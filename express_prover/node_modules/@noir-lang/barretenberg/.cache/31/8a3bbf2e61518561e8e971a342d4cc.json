{"id":"EtaR","dependencies":[{"name":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/package.json","includedInParent":true,"mtime":1663951495938},{"name":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/package.json","includedInParent":true,"mtime":1663107578820},{"name":"debug","loc":{"line":7,"column":24},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/master/invocation-proxy.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/debug/src/browser.js"},{"name":"observable-fns","loc":{"line":8,"column":38},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/master/invocation-proxy.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/observable-fns/dist.esm/index.js"},{"name":"../common","loc":{"line":9,"column":39},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/master/invocation-proxy.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/common.js"},{"name":"../observable-promise","loc":{"line":10,"column":34},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/master/invocation-proxy.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/observable-promise.js"},{"name":"../transferable","loc":{"line":11,"column":37},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/master/invocation-proxy.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/transferable.js"},{"name":"../types/messages","loc":{"line":12,"column":53},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/master/invocation-proxy.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/threads/dist-esm/types/messages.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createProxyFunction=g,exports.createProxyModule=y;var e=n(require(\"debug\")),r=require(\"observable-fns\"),s=require(\"../common\"),t=require(\"../observable-promise\"),a=require(\"../transferable\"),o=require(\"../types/messages\");function n(e){return e&&e.__esModule?e:{default:e}}const i=(0,e.default)(\"threads:master:messages\");let u=1;const l=e=>Array.from(new Set(e)),d=e=>e&&e.type===o.WorkerMessageType.error,c=e=>e&&e.type===o.WorkerMessageType.result,p=e=>e&&e.type===o.WorkerMessageType.running;function f(e,t){return new r.Observable(r=>{let a;const n=o=>{if(i(\"Message from worker:\",o.data),o.data&&o.data.uid===t)if(p(o.data))a=o.data.resultType;else if(c(o.data))\"promise\"===a?(void 0!==o.data.payload&&r.next((0,s.deserialize)(o.data.payload)),r.complete(),e.removeEventListener(\"message\",n)):(o.data.payload&&r.next((0,s.deserialize)(o.data.payload)),o.data.complete&&(r.complete(),e.removeEventListener(\"message\",n)));else if(d(o.data)){const t=(0,s.deserialize)(o.data.error);r.error(t),e.removeEventListener(\"message\",n)}};return e.addEventListener(\"message\",n),()=>{if(\"observable\"===a||!a){const r={type:o.MasterMessageType.cancel,uid:t};e.postMessage(r)}e.removeEventListener(\"message\",n)}})}function m(e){if(0===e.length)return{args:[],transferables:[]};const r=[],t=[];for(const o of e)(0,a.isTransferDescriptor)(o)?(r.push((0,s.serialize)(o.send)),t.push(...o.transferables)):r.push((0,s.serialize)(o));return{args:r,transferables:0===t.length?t:l(t)}}function g(e,s){return(...a)=>{const n=u++,{args:l,transferables:d}=m(a),c={type:o.MasterMessageType.run,uid:n,method:s,args:l};i(\"Sending command to run function to worker:\",c);try{e.postMessage(c,d)}catch(p){return t.ObservablePromise.from(Promise.reject(p))}return t.ObservablePromise.from((0,r.multicast)(f(e,n)))}}function y(e,r){const s={};for(const t of r)s[t]=g(e,t);return s}"},"sourceMaps":null,"error":null,"hash":"4f0c18d5f1f069bbd963e07d83f0f2e6","cacheData":{"env":{}}}