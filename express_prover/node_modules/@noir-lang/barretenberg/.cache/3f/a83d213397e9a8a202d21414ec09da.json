{"id":"eCh4","dependencies":[{"name":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/package.json","includedInParent":true,"mtime":1663951495938},{"name":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/package.json","includedInParent":true,"mtime":1663107589416},{"name":"./aes","loc":{"line":1,"column":18},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/aes.js"},{"name":"safe-buffer","loc":{"line":2,"column":21},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/safe-buffer/index.js"},{"name":"cipher-base","loc":{"line":3,"column":24},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/cipher-base/index.js"},{"name":"inherits","loc":{"line":4,"column":23},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/inherits/inherits_browser.js"},{"name":"./ghash","loc":{"line":5,"column":20},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/ghash.js"},{"name":"buffer-xor","loc":{"line":6,"column":18},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/buffer-xor/index.js"},{"name":"./incr32","loc":{"line":7,"column":21},"parent":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/authCipher.js","resolved":"/mnt/user-data/kev/tmp/aztec-connect/barretenberg.js/node_modules/browserify-aes/incr32.js"}],"generated":{"js":"\nvar t=require(\"./aes\"),e=require(\"safe-buffer\").Buffer,r=require(\"cipher-base\"),h=require(\"inherits\"),a=require(\"./ghash\"),i=require(\"buffer-xor\"),n=require(\"./incr32\");function s(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),a=0;a<h;++a)r+=t[a]^e[a];return r}function o(t,r,h){if(12===r.length)return t._finID=e.concat([r,e.from([0,0,0,1])]),e.concat([r,e.from([0,0,0,2])]);var i=new a(h),s=r.length,o=s%16;i.update(r),o&&(o=16-o,i.update(e.alloc(o,0))),i.update(e.alloc(8,0));var u=8*s,l=e.alloc(8);l.writeUIntBE(u,0,8),i.update(l),t._finID=i.state;var c=e.from(t._finID);return n(c),c}function u(h,i,n,s){r.call(this);var u=e.alloc(4,0);this._cipher=new t.AES(i);var l=this._cipher.encryptBlock(u);this._ghash=new a(l),n=o(this,n,l),this._prev=e.from(n),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}h(u,r),u.prototype._update=function(t){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=e.alloc(r,0),this._ghash.update(r))}this._called=!0;var h=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(h),this._len+=t.length,h},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error(\"Unsupported state or unable to authenticate data\");var t=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&s(t,this._authTag))throw new Error(\"Unsupported state or unable to authenticate data\");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error(\"Attempting to get auth tag in unsupported state\");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error(\"Attempting to set auth tag in unsupported state\");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error(\"Attempting to set AAD in unsupported state\");this._ghash.update(t),this._alen+=t.length},module.exports=u;"},"sourceMaps":null,"error":null,"hash":"7c333914f3d9859dfb3ce9926ed81271","cacheData":{"env":{}}}